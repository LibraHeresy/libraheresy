var C=Object.defineProperty;var D=(l,n,o)=>n in l?C(l,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):l[n]=o;var s=(l,n,o)=>(D(l,typeof n!="symbol"?n+"":n,o),o);import{_ as I,h as d,C as S,o as h,c as _,m as v,b as B,a6 as U,a7 as L,Q as Y,a8 as $,F as M}from"./framework.DVBdlveE.js";const X=["src"],F=["id"],N=["src"],O={__name:"PreviewImage",props:{imageUrl:String},setup(l){const n=l,o=d(!1),u=e=>{const t=document.getElementsByTagName("body")[0];e?(t.style.height="100vh",t.style.overflow="hidden",k()):(t.style.height="unset",t.style.overflow="auto"),o.value=e};class m{constructor(){s(this,"scale",1);s(this,"left","50%");s(this,"top","50%");s(this,"translate","")}}const i=d(new m),w=e=>{const{deltaY:t}=e;let{scale:a}=i.value;t>0?(a-=.2,a<.2&&(a=.2)):t<0&&(a+=.2),i.value.scale=a};class g{constructor(){s(this,"x",0);s(this,"y",0)}}class y{constructor(){s(this,"x",document.body.clientWidth/2);s(this,"y",document.body.clientHeight/2)}}const r=d(new g),c=d(new y),f=e=>{const{clientX:t,clientY:a}=e;r.value.x=t,r.value.y=a},p=e=>{const{clientX:t,clientY:a}=e;E(t,a),i.value.translate=""},x=e=>{const{clientX:t,clientY:a}=e,{x:P,y:b}=r.value;i.value.translate=`${t-P}px ${a-b}px`},E=(e,t)=>{c.value.x=c.value.x-r.value.x+e,c.value.y=c.value.y-r.value.y+t,i.value.left=`${c.value.x}px`,i.value.top=`${c.value.y}px`},k=()=>{r.value=new g,c.value=new y,i.value=new m};return S(()=>{const e=document.getElementById(n.imageUrl);e.addEventListener("wheel",w),e.addEventListener("dragstart",f),e.addEventListener("drag",x),e.addEventListener("dragend",p),e.addEventListener("dragover",t=>t.preventDefault())}),(e,t)=>(h(),_(M,null,[v("img",{class:"frame-img",src:l.imageUrl,onClick:t[0]||(t[0]=()=>u(!0))},null,8,X),(h(),B($,{to:"body"},[U(v("div",{id:l.imageUrl,class:"preview-img-mask",onClick:t[1]||(t[1]=()=>u(!1))},[v("img",{class:"preview-img",style:Y(i.value),src:l.imageUrl},null,12,N)],8,F),[[L,o.value]])]))],64))}},z=I(O,[["__scopeId","data-v-3a02d6eb"]]);export{z as P};

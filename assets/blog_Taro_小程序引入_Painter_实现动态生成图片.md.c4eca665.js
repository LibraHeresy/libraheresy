import{_ as s,o as n,c as a,Q as p}from"./chunks/framework.28871c17.js";const F=JSON.parse('{"title":"Taro 小程序引入 Painter 实现动态生成图片","description":"","frontmatter":{},"headers":[],"relativePath":"blog/Taro_小程序引入_Painter_实现动态生成图片.md","filePath":"blog/Taro_小程序引入_Painter_实现动态生成图片.md","lastUpdated":1695090973000}'),l={name:"blog/Taro_小程序引入_Painter_实现动态生成图片.md"},o=p(`<h1 id="taro-小程序引入-painter-实现动态生成图片" tabindex="-1">Taro 小程序引入 Painter 实现动态生成图片 <a class="header-anchor" href="#taro-小程序引入-painter-实现动态生成图片" aria-label="Permalink to &quot;Taro 小程序引入 Painter 实现动态生成图片&quot;">​</a></h1><h2 id="前言" tabindex="-1">前言 <a class="header-anchor" href="#前言" aria-label="Permalink to &quot;前言&quot;">​</a></h2><p>分享给用户一个二维码图片，这是一个很简单的功能，但因为这是 <code>小程序</code> 环境，且涉及 <code>Canvas</code> ，那就不简单了。</p><p>话不多说，搞起。</p><h2 id="环境" tabindex="-1">环境 <a class="header-anchor" href="#环境" aria-label="Permalink to &quot;环境&quot;">​</a></h2><blockquote><p>node: v14.17.3</p><p>Taro: v3.0.21</p><p>Painter: v2.2.2</p></blockquote><h2 id="实现" tabindex="-1">实现 <a class="header-anchor" href="#实现" aria-label="Permalink to &quot;实现&quot;">​</a></h2><p>npm 社区的理念就是不造重复轮子，而我身体力行的实践着这个理念。花了半个小时，找到一个可以用来生成图片的包，<code>Painter</code>。</p><p>这个包就和 <code>echarts</code> 一样，难点就是繁琐的配置，但是上手以后，意外的简单好用。</p><p>我只介绍最基本的用法，如果有其他需求，请移步<a href="https://github.com/Kujiale-Mobile/Painter" target="_blank" rel="noreferrer">Painter 文档</a>。</p><h3 id="引入组件包" tabindex="-1">引入组件包 <a class="header-anchor" href="#引入组件包" aria-label="Permalink to &quot;引入组件包&quot;">​</a></h3><p>我这里引入的原生小程序版本的，因为我对 <code>npm</code> 包在小程序的表现存在一定质疑。</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// Taro 小程序引用原生小程序组件</span></span>
<span class="line"><span style="color:#E1E4E8;">  usingComponents: {</span></span>
<span class="line"><span style="color:#E1E4E8;">    painter: </span><span style="color:#9ECBFF;">&quot;./components/Painter/painter&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  },</span></span>
<span class="line"><span style="color:#E1E4E8;">};</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// Taro 小程序引用原生小程序组件</span></span>
<span class="line"><span style="color:#24292E;">  usingComponents: {</span></span>
<span class="line"><span style="color:#24292E;">    painter: </span><span style="color:#032F62;">&quot;./components/Painter/painter&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  },</span></span>
<span class="line"><span style="color:#24292E;">};</span></span></code></pre></div><p>引入以后，直接调用就可以了，别忘了给它一个独一无二的<code>id</code>。</p><div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">template</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  ......</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;</span><span style="color:#FDAEB7;font-style:italic;">painter</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">id</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;share-post-painter&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">:use2-d</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;true&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">:palette</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;config&quot;</span><span style="color:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">template</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">template</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  ......</span></span>
<span class="line"><span style="color:#24292E;">  &lt;</span><span style="color:#B31D28;font-style:italic;">painter</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">id</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;share-post-painter&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">:use2-d</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;true&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">:palette</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;config&quot;</span><span style="color:#24292E;"> /&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">template</span><span style="color:#24292E;">&gt;</span></span></code></pre></div><h3 id="编写-config" tabindex="-1">编写 config <a class="header-anchor" href="#编写-config" aria-label="Permalink to &quot;编写 config&quot;">​</a></h3><p>我会介绍几个常用的配置属性，帮助快速上手。</p><p>其实这个包的理念很像搭积木，就是先打一个底座，然后把你要放上去的元素都化为一个个积木块，再按照你的想法组装到对应的位置。</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">class</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">config</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#FFAB70;">width</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;500px&quot;</span><span style="color:#E1E4E8;">; </span><span style="color:#6A737D;">// 图片宽度</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#FFAB70;">height</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;500px&quot;</span><span style="color:#E1E4E8;">; </span><span style="color:#6A737D;">// 图片高度</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#FFAB70;">background</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;&quot;</span><span style="color:#E1E4E8;">; </span><span style="color:#6A737D;">// 图片背景</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#FFAB70;">views</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> [</span></span>
<span class="line"><span style="color:#E1E4E8;">    {</span></span>
<span class="line"><span style="color:#E1E4E8;">      type: </span><span style="color:#9ECBFF;">&quot;image&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 图片view</span></span>
<span class="line"><span style="color:#E1E4E8;">      url: </span><span style="color:#9ECBFF;">&quot;&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 图片view图片地址</span></span>
<span class="line"><span style="color:#E1E4E8;">      css: {</span></span>
<span class="line"><span style="color:#E1E4E8;">        top: </span><span style="color:#9ECBFF;">&quot;&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 距顶定位</span></span>
<span class="line"><span style="color:#E1E4E8;">        left: </span><span style="color:#9ECBFF;">&quot;&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 距左定位</span></span>
<span class="line"><span style="color:#E1E4E8;">        width: </span><span style="color:#9ECBFF;">&quot;&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 图片view宽度</span></span>
<span class="line"><span style="color:#E1E4E8;">        height: </span><span style="color:#9ECBFF;">&quot;&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 图片view高度</span></span>
<span class="line"><span style="color:#E1E4E8;">      },</span></span>
<span class="line"><span style="color:#E1E4E8;">    },</span></span>
<span class="line"><span style="color:#E1E4E8;">    {</span></span>
<span class="line"><span style="color:#E1E4E8;">      type: </span><span style="color:#9ECBFF;">&quot;text&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 文字view</span></span>
<span class="line"><span style="color:#E1E4E8;">      text: </span><span style="color:#9ECBFF;">&quot;文字&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 文字view内容</span></span>
<span class="line"><span style="color:#E1E4E8;">      css: {</span></span>
<span class="line"><span style="color:#E1E4E8;">        top: </span><span style="color:#9ECBFF;">&quot;&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 距顶定位</span></span>
<span class="line"><span style="color:#E1E4E8;">        left: </span><span style="color:#9ECBFF;">&quot;&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 距左定位</span></span>
<span class="line"><span style="color:#E1E4E8;">        fontSize: </span><span style="color:#9ECBFF;">&quot;&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 文字大小</span></span>
<span class="line"><span style="color:#E1E4E8;">        fontWeight: </span><span style="color:#9ECBFF;">&quot;&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 文字宽度</span></span>
<span class="line"><span style="color:#E1E4E8;">        align: </span><span style="color:#9ECBFF;">&quot;&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 文字排版方式</span></span>
<span class="line"><span style="color:#E1E4E8;">        color: </span><span style="color:#9ECBFF;">&quot;&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 文字颜色</span></span>
<span class="line"><span style="color:#E1E4E8;">      },</span></span>
<span class="line"><span style="color:#E1E4E8;">    },</span></span>
<span class="line"><span style="color:#E1E4E8;">    {</span></span>
<span class="line"><span style="color:#E1E4E8;">      type: </span><span style="color:#9ECBFF;">&quot;qrcode&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 二维码view</span></span>
<span class="line"><span style="color:#E1E4E8;">      content: </span><span style="color:#9ECBFF;">&quot;&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 二维码url</span></span>
<span class="line"><span style="color:#E1E4E8;">      css: {</span></span>
<span class="line"><span style="color:#E1E4E8;">        bottom: </span><span style="color:#9ECBFF;">&quot;&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 距底定位</span></span>
<span class="line"><span style="color:#E1E4E8;">        left: </span><span style="color:#9ECBFF;">&quot;&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 距左定位</span></span>
<span class="line"><span style="color:#E1E4E8;">        width: </span><span style="color:#9ECBFF;">&quot;&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 二维码宽度</span></span>
<span class="line"><span style="color:#E1E4E8;">        height: </span><span style="color:#9ECBFF;">&quot;&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 二维码高度</span></span>
<span class="line"><span style="color:#E1E4E8;">      },</span></span>
<span class="line"><span style="color:#E1E4E8;">    },</span></span>
<span class="line"><span style="color:#E1E4E8;">  ];</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">config</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#E36209;">width</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;500px&quot;</span><span style="color:#24292E;">; </span><span style="color:#6A737D;">// 图片宽度</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#E36209;">height</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;500px&quot;</span><span style="color:#24292E;">; </span><span style="color:#6A737D;">// 图片高度</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#E36209;">background</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;&quot;</span><span style="color:#24292E;">; </span><span style="color:#6A737D;">// 图片背景</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#E36209;">views</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> [</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">      type: </span><span style="color:#032F62;">&quot;image&quot;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 图片view</span></span>
<span class="line"><span style="color:#24292E;">      url: </span><span style="color:#032F62;">&quot;&quot;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 图片view图片地址</span></span>
<span class="line"><span style="color:#24292E;">      css: {</span></span>
<span class="line"><span style="color:#24292E;">        top: </span><span style="color:#032F62;">&quot;&quot;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 距顶定位</span></span>
<span class="line"><span style="color:#24292E;">        left: </span><span style="color:#032F62;">&quot;&quot;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 距左定位</span></span>
<span class="line"><span style="color:#24292E;">        width: </span><span style="color:#032F62;">&quot;&quot;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 图片view宽度</span></span>
<span class="line"><span style="color:#24292E;">        height: </span><span style="color:#032F62;">&quot;&quot;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 图片view高度</span></span>
<span class="line"><span style="color:#24292E;">      },</span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">      type: </span><span style="color:#032F62;">&quot;text&quot;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 文字view</span></span>
<span class="line"><span style="color:#24292E;">      text: </span><span style="color:#032F62;">&quot;文字&quot;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 文字view内容</span></span>
<span class="line"><span style="color:#24292E;">      css: {</span></span>
<span class="line"><span style="color:#24292E;">        top: </span><span style="color:#032F62;">&quot;&quot;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 距顶定位</span></span>
<span class="line"><span style="color:#24292E;">        left: </span><span style="color:#032F62;">&quot;&quot;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 距左定位</span></span>
<span class="line"><span style="color:#24292E;">        fontSize: </span><span style="color:#032F62;">&quot;&quot;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 文字大小</span></span>
<span class="line"><span style="color:#24292E;">        fontWeight: </span><span style="color:#032F62;">&quot;&quot;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 文字宽度</span></span>
<span class="line"><span style="color:#24292E;">        align: </span><span style="color:#032F62;">&quot;&quot;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 文字排版方式</span></span>
<span class="line"><span style="color:#24292E;">        color: </span><span style="color:#032F62;">&quot;&quot;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 文字颜色</span></span>
<span class="line"><span style="color:#24292E;">      },</span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">      type: </span><span style="color:#032F62;">&quot;qrcode&quot;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 二维码view</span></span>
<span class="line"><span style="color:#24292E;">      content: </span><span style="color:#032F62;">&quot;&quot;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 二维码url</span></span>
<span class="line"><span style="color:#24292E;">      css: {</span></span>
<span class="line"><span style="color:#24292E;">        bottom: </span><span style="color:#032F62;">&quot;&quot;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 距底定位</span></span>
<span class="line"><span style="color:#24292E;">        left: </span><span style="color:#032F62;">&quot;&quot;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 距左定位</span></span>
<span class="line"><span style="color:#24292E;">        width: </span><span style="color:#032F62;">&quot;&quot;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 二维码宽度</span></span>
<span class="line"><span style="color:#24292E;">        height: </span><span style="color:#032F62;">&quot;&quot;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 二维码高度</span></span>
<span class="line"><span style="color:#24292E;">      },</span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"><span style="color:#24292E;">  ];</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h3 id="分享图片" tabindex="-1">分享图片 <a class="header-anchor" href="#分享图片" aria-label="Permalink to &quot;分享图片&quot;">​</a></h3><p>等组件直接渲染完成，他也会在本地存储临时图片地址，这个时候直接获取就行了。</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">share</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> () </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// 获取当前页面实例，可以使用小程序页面实例的 selectComponent API 获取第三方原生组件的实例</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> { </span><span style="color:#79B8FF;">page</span><span style="color:#E1E4E8;"> } </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> Taro.</span><span style="color:#B392F0;">getCurrentInstance</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// 获取painter组件实例</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">refPainter</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> page.</span><span style="color:#B392F0;">selectComponent</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;#share-post-painter&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// 获取painter组件实例中的本地图片地址</span></span>
<span class="line"><span style="color:#E1E4E8;">  wx.</span><span style="color:#B392F0;">showShareImageMenu</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">    path: refPainter.data.picUrl,</span></span>
<span class="line"><span style="color:#E1E4E8;">  });</span></span>
<span class="line"><span style="color:#E1E4E8;">};</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">share</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> () </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// 获取当前页面实例，可以使用小程序页面实例的 selectComponent API 获取第三方原生组件的实例</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> { </span><span style="color:#005CC5;">page</span><span style="color:#24292E;"> } </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> Taro.</span><span style="color:#6F42C1;">getCurrentInstance</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// 获取painter组件实例</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">refPainter</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> page.</span><span style="color:#6F42C1;">selectComponent</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;#share-post-painter&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// 获取painter组件实例中的本地图片地址</span></span>
<span class="line"><span style="color:#24292E;">  wx.</span><span style="color:#6F42C1;">showShareImageMenu</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">    path: refPainter.data.picUrl,</span></span>
<span class="line"><span style="color:#24292E;">  });</span></span>
<span class="line"><span style="color:#24292E;">};</span></span></code></pre></div>`,22),e=[o];function t(c,r,E,y,i,u){return n(),a("div",null,e)}const d=s(l,[["render",t]]);export{F as __pageData,d as default};
